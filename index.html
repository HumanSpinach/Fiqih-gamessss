<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiqih Door Challenge. Ready to take the Challengeüòé</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: url('https://i.imgur.com/JJkzEbQ.jpg') no-repeat center center fixed;
            background-size: cover;
            background: sandybrownu;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: #333;
        }
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.85);
            z-index: 0;
        }

        .game-container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            border: 1px solid #eee;
        }

        .door-container {
            perspective: 1000px;
            margin: 20px auto;
        }

        .door {
            width: 200px;
            height: 300px;
            margin: 0 auto;
            position: relative;
            border: 8px solid;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 
                0 0 15px rgba(0, 0, 0, 0.1),
                inset 0 0 25px rgba(0, 0, 0, 0.1);
            transform-style: preserve-3d;
            transition: transform 0.7s ease;
            /* Default door color (Level 1) */
            background: linear-gradient(135deg, #8B4513 0%, #5D2906 100%);
            border-color: #4A2B0F;
        }

        /* Door colors for different levels */
        .door.level-1 {
            background: linear-gradient(135deg, #8B4513 0%, #5D2906 100%);
            border-color: #4A2B0F;
        }
        .door.level-2 {
            background: linear-gradient(135deg, #5D8B45 0%, #2F5D29 100%);
            border-color: #3A4A2B;
        }
        .door.level-3 {
            background: linear-gradient(135deg, #45658B 0%, #294B5D 100%);
            border-color: #2B3A4A;
        }
        .door.level-4 {
            background: linear-gradient(135deg, #8B4545 0%, #5D2929 100%);
            border-color: #4A2B2B;
        }

        .door:hover {
            transform: rotateY(-15deg);
        }

        .door-knob {
            position: absolute;
            width: 16px;
            height: 16px;
            background: radial-gradient(circle, #FFD700 0%, #D4AF37 100%);
            border-radius: 50%;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
        }

        .islamic-pattern {
            position: absolute;
            width: 80%;
            height: 60%;
            top: 20%;
            left: 10%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    rgba(255, 215, 0, 0.2),
                    rgba(255, 215, 0, 0.2) 10px,
                    transparent 10px,
                    transparent 20px
                );
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 5px;
            opacity: 0.8;
        }

        .door.open {
            transform: rotateY(-90deg);
        }

        @keyframes shake {
            0%, 100% { transform: rotateY(-15deg) translateX(0); }
            20%, 60% { transform: rotateY(-15deg) translateX(-10px); }
            40%, 80% { transform: rotateY(-15deg) translateX(10px); }
        }

        .question-box {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            padding: 12px;
            background: linear-gradient(to right, #4CAF50, #2E8B57);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }

        #result {
            margin-top: 15px;
            font-weight: bold;
            font-size: 18px;
            min-height: 50px;
            color: #555;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #555;
        }

        .level-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #f0f0f0;
            color: #5D2906;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            border: 1px solid #ddd;
        }

        .game-title {
            color: #5D2906;
            margin-bottom: 5px;
            font-size: 24px;
        }

        .progress-container {
            width: 100%;
            background: #f0f0f0;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
            height: 8px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #4CAF50, #2E8B57);
            border-radius: 10px;
            transition: width 0.3s;
        }

        .music-control {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #f0f0f0;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="music-control" id="musicToggle">‚ô™</div>
        <div class="level-indicator" id="level">Level: 1</div>
        <h1 class="game-title">Fiqh Door Challenge</h1>
        <p>Answer correctly to open the door</p>
        
        <div class="progress-container">
            <div id="progress" class="progress-bar" style="width: 0%"></div>
        </div>

        <div class="door-container">
            <div id="door" class="door level-1">
                <div class="door-knob"></div>
                <div class="islamic-pattern"></div>
            </div>
        </div>

        <div id="question-box" class="question-box">
            <h2 id="question">Loading question...</h2>
            <div id="options" class="options">
                <!-- Options loaded by JavaScript -->
            </div>
        </div>

        <div id="result"></div>

        <div class="stats">
            <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
            <span id="score">Score: 0</span>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="Genshin Theme song.mp3" type="audio/mpeg">
    </audio>
    <script>
        window.addEventListener('click', () => {
            document.getElementById("bgMusic").play();

        });

    
    </script>

    <script>
        // Game Questions (12 questions across 4 levels)
        const questions = [
            // Level 1 (Basic)
            { 
                question: "Where was prophet Muhammad born?", 
                options: ["Medina", "Mecca", "Syam", "Egypt"], 
                answer: 1,
                explanation: "Prophet Muhammad SAW was born in Mecca"
            },
            { 
                question: "What are the names of prophet Muhammad's mother and father?", 
                options: ["Aisyah & Abdullah", "Aminah & Abdullah", "Aminah & Abdul Muthalib", "Aisyah & Abu Thalib"], 
                answer: 1,
                explanation: "his mother was Aminah & his dad was Abdullah"
            },
            { 
                question: "In which year was prophet Muhammad born?", 
                options: ["560 CE", "570 CE", "580 CE", "590 CE"], 
                answer: 1,
                explanation: "He was born in the Year of the Elephant(Am Al-FIL), named after the failed attack on Mecca by Abraham's army with elephants."
            },
            
            // Level 2 (Intermediate)
            { 
                question: "Who raised prophet Muhammad after his mother's death?", 
                options: ["Abu Lahab", "Abdul Muttalib", "Abu thalib", "Abdullah"], 
                answer: 1,
                explanation: "After Aminah death when Muhammad 6 years old."
            },
            { 
                question: "Which woman breastfed and cared for young Muhammad in desert?", 
                options: ["Aisha", "Khadijah", "Halimah al- Sa'diyyah", "Fatimah bint Asad"], 
                answer: 2,
                explanation: "from the Banu Sa'd tribe, nursed him as an infant."
            },
            { 
                question: "How old was prophet Muhammad when he married Khadijad?", 
                options: ["14", "20", "30", "25"], 
                answer: 3,
                explanation: "He married Khadijah at ? while she was 40."
            },
            
            // Level 3 (Advanced)
            { 
                question: "What was Prophet Muhammad known for before becoming a prophet?", 
                options: ["Being a rich guy", "Leading military campaigns", "His honesty and trustworthines", "Writing poetry"], 
                answer: 2,
                explanation: "Al-Sadiq and Al-Amin"
            },
            { 
                question: "What was the first major conflict Prophet Muhammad helped reesolve in Mecca?", 
                options: ["The placment of the black stone", "The battle of Fijar", "The exile of Banu Hashim", "None"], 
                answer: 0,
                explanation: "Think by your self"
            },
            { 
                question: "Which relative of Khadijah confirmed Muhammad before revelation?", 
                options: ["Abu Jahl", "Abbas bin Abdul-Muttalib", "Waraqah bin Nawfal", "Abu Lahab"], 
                answer: 2,
                explanation: "a christian scholar, recognize Muhammad as the awaited prophet"
            },
            
            // Level 4 (Expert - Red Door)
            { 
                question: "What was the PRIMARY strategic reason Rasulullah choose Yathrib (Madina) as the destination for Hijrah?", 
                options: ["Its Fertile land for agriculture", "The invitation from the Khazra and Aus tribes who pledged loyalty at Aqadah", "Its proximity to trade routes for economic survival ", "The presence to jewish scholars for interfaith dialogue"], 
                answer: 1,
                explanation: "The Pledgeds of Aqabah (621 CE - 622 CE) were pivotal"
            },
            { 
                question: "During the Hijrah, Rasulullah and Abu Bakar hid in the cave of thawr for 3 days. How did Allah miraculously protect the from Quraysh's search party?", 
                options: ["A spider spun a web and dove laid eggs at the cave's enterace", "An angel blinded the pursuers", "A sudden sandstrom forced the Quraysh to retreat", "Abu bakar sacrifice him self to protec Muhammad"], 
                answer: 0,
                explanation: "Allah's protection came through natural in Hadith (Buhkhari) as proof of divine intervention."
            },
            { 
                question: "What critical mistakes did Suraqah ibn Malik make during his pursuit of Rasullah, leading to his eventual conversion?", 
                options: ["He Ignored warnings from his tribesmen about the futility of the chase", "He underestimed Abu Bakar military skills", "He failed to bribe the Quraysh for information", "His horse repetedly sank into the desert sand despite being strong."], 
                answer: 3,
                explanation: "Under strict conditions, hand amputation is prescribed."
            },
            { 
                question: "What happened to the light on Abdullah's forehead after marrying Aminah?", 
                options: ["The light gets brighter", "The light disappeared and moved to Aminah's stomach", "Light disappears permanently", "The light moved to Abdul Muttalib"], 
                answer: 1,
                explanation: "the light on Abdullah's forehead moved to Aminah's stomach after the wedding, indicating the pregnancy of the Prophet Muhammad SAW."
            },
            { 
                question: "After secluding for days in the Hira Cave, the Prophet Muhammad SAW. had his first revelation when he was 40 years old. Allah sent down His first revelation through the angel Gabriel on...", 
                options: ["Thursday, August 17 1945", "Monday, February 16 611 M", "Monday, Rabi'al Awwal 12 571 M", "Monday, Rabi'al Awwal 12 571 M"], 
                answer: 1,
                explanation: "Thats true"
            },
            { 
                question: "With the endless pressure and discrimination from the Quraysh towards the people who joined Islam, Prophet Muhammad SAW. commanded several of his friends to emigrate to Habasyah which happened during the ... of his Prophethood", 
                options: ["5th year", "2nd year", "4th year", "7th year"], 
                answer: 0,
                explanation: "yep that the correct one"
            },
            { 
                question: "What was the PRIMARY strategic reason Rasulullah choose Yathrib (Madina) as the destination for Hijrah?", 
                options: ["Its Fertile land for agriculture", "The invitation from the Khazra and Aus tribes who pledged loyalty at Aqadah", "Its proximity to trade routes for economic survival ", "The presence to jewish scholars for interfaith dialogue"], 
                answer: 1,
                explanation: "The Pledgeds of Aqabah (621 CE - 622 CE) were pivotal"
            },
            { 
                question: "During the Hijrah, Rasulullah and Abu Bakar hid in the cave of thawr for 3 days. How did Allah miraculously protect the from Quraysh's search party?", 
                options: ["A spider spun a web and dove laid eggs at the cave's enterace", "An angel blinded the pursuers", "A sudden sandstrom forced the Quraysh to retreat", "Abu bakar sacrifice him self to protec Muhammad"], 
                answer: 0,
                explanation: "Allah's protection came through natural in Hadith (Buhkhari) as proof of divine intervention."
            },
            { 
                question: "What critical mistakes did Suraqah ibn Malik make during his pursuit of Rasullah, leading to his eventual conversion?", 
                options: ["He Ignored warnings from his tribesmen about the futility of the chase", "He underestimed Abu Bakar military skills", "He failed to bribe the Quraysh for information", "His horse repetedly sank into the desert sand despite being strong."], 
                answer: 3,
                explanation: "Under strict conditions, hand amputation is prescribed."
            },
            { 
                question: "What was the PRIMARY strategic reason Rasulullah choose Yathrib (Madina) as the destination for Hijrah?", 
                options: ["Its Fertile land for agriculture", "The invitation from the Khazra and Aus tribes who pledged loyalty at Aqadah", "Its proximity to trade routes for economic survival ", "The presence to jewish scholars for interfaith dialogue"], 
                answer: 1,
                explanation: "The Pledgeds of Aqabah (621 CE - 622 CE) were pivotal"
            },
            { 
                question: "During the Hijrah, Rasulullah and Abu Bakar hid in the cave of thawr for 3 days. How did Allah miraculously protect the from Quraysh's search party?", 
                options: ["A spider spun a web and dove laid eggs at the cave's enterace", "An angel blinded the pursuers", "A sudden sandstrom forced the Quraysh to retreat", "Abu bakar sacrifice him self to protec Muhammad"], 
                answer: 0,
                explanation: "Allah's protection came through natural in Hadith (Buhkhari) as proof of divine intervention."
            },
            { 
                question: "What critical mistakes did Suraqah ibn Malik make during his pursuit of Rasullah, leading to his eventual conversion?", 
                options: ["He Ignored warnings from his tribesmen about the futility of the chase", "He underestimed Abu Bakar military skills", "He failed to bribe the Quraysh for information", "His horse repetedly sank into the desert sand despite being strong."], 
                answer: 3,
                explanation: "Under strict conditions, hand amputation is prescribed."
            },
        ];

        // Game State
        let currentLevel = 0;
        let currentQuestion = 0;
        let lives = 3;
        let score = 0;
        let musicPlaying = false;

        // DOM Elements
        const door = document.getElementById('door');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const resultElement = document.getElementById('result');
        const levelElement = document.getElementById('level');
        const livesElement = document.getElementById('lives');
        const scoreElement = document.getElementById('score');
        const progressBar = document.getElementById('progress');
        const bgMusic = document.getElementById('bgMusic');
        const musicToggle = document.getElementById('musicToggle');

        
        // Initialize Game
        function initGame() {
            currentLevel = 0;
            currentQuestion = 0;
            lives = 3;
            score = 0;
            updateStats();
            loadQuestion();
        }

        // Load Current Question
        function loadQuestion() {
            const question = questions[currentQuestion];
            questionElement.textContent = question.question;
            
            // Update door color based on level
            door.className = 'door level-' + (Math.floor(currentQuestion / 3) + 1);
            
            optionsElement.innerHTML = '';
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.addEventListener('click', () => checkAnswer(index));
                optionsElement.appendChild(button);
            });
            
            updateProgress();
        }

        // Check Answer
        function checkAnswer(selectedIndex) {
            const question = questions[currentQuestion];
            
            if (selectedIndex === question.answer) {
                // Correct Answer
                score += 10 * (Math.floor(currentQuestion / 3) + 1); // More points in higher levels
                resultElement.innerHTML = `‚úÖ Correct!<br><small>${question.explanation}</small>`;
                resultElement.style.color = "#4CAF50";
                door.classList.add('open');
                
                setTimeout(() => {
                    door.classList.remove('open');
                    currentQuestion++;
                    
                    // Check if game completed
                    if (currentQuestion >= questions.length) {
                        resultElement.innerHTML = `üéâ You completed all questions! Final Score: ${score}`;
                        setTimeout(() => {
                            initGame();
                        }, 3000);
                        return;
                    }
                    
                    // Check if level increased
                    const newLevel = Math.floor(currentQuestion / 3);
                    if (newLevel > currentLevel) {
                        currentLevel = newLevel;
                        resultElement.innerHTML += `<br>‚¨ÜÔ∏è Level ${currentLevel + 1} Unlocked!`;
                    }
                    
                    updateStats();
                    loadQuestion();
                }, 1500);
            } else {
                // Wrong Answer
                lives--;
                resultElement.innerHTML = `‚ùå Incorrect!<br><small>${question.explanation}</small>`;
                resultElement.style.color = "#f44336";
                door.style.animation = 'shake 0.5s';
                
                setTimeout(() => {
                    door.style.animation = '';
                    if (lives <= 0) {
                        resultElement.innerHTML = `üíî Game Over!<br>Restarting from Level 1...<br>Score: ${score}`;
                        setTimeout(() => {
                            initGame();
                        }, 2000);
                    } else {
                        updateStats();
                    }
                }, 1000);
            }
        }

        // Update Stats
        function updateStats() {
            levelElement.textContent = `Level: ${currentLevel + 1}`;
            livesElement.textContent = '‚ù§Ô∏è'.repeat(lives);
            scoreElement.textContent = `Score: ${score}`;
        }

        // Update Progress Bar
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Start the Game
        initGame();
    </script>
</body>
</html>